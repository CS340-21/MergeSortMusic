{"ast":null,"code":"var _jsxFileName = \"/home/pooch/School/CS340/Project/NewHotness/frontend/src/components/LoginDialog.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\nimport { Button, TextField, ListItem, ListItemText, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from \"@material-ui/core\";\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\nimport \"./Navbar.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginDialog(props) {\n  _s();\n\n  const [open, setOpen] = React.useState(false);\n  const [username, setUsername] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [playlist, setPlaylist] = React.useState([]);\n  let history = useHistory();\n  const user = {\n    username: username,\n    password: password,\n    playlist: playlist\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSignUp = () => {\n    axios.post('http://127.0.0.1:8000/login/', user);\n    setOpen(false);\n    props.setUserPage(true); //history.push('/user')\n\n    history.push({\n      pathname: '/user',\n      state: {\n        username: user.username,\n        password: user.password,\n        playlist: user.playlist\n      }\n    });\n  };\n\n  const handleLogin = () => {\n    axios.get('http://127.0.0.1:8000/login/').then(response => {\n      let result = response.data.filter(item => item.username === user.username && item.password === user.password);\n\n      if (result.length === 0) {\n        alert(\"Username or Password incorrect. Try Again or Sign Up\");\n      } else {\n        setOpen(false);\n        setPlaylist(result[0].playlist);\n        setPlaylist(true);\n        props.setUserPage(true);\n        user.playlist = result[0].playlist;\n        console.log(user.playlist);\n        console.log(playlist);\n        history.push({\n          pathname: '/user',\n          state: {\n            username: user.username,\n            password: user.password,\n            playlist: user.playlist\n          }\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ListItem, {\n      button: true,\n      onClick: handleClickOpen,\n      style: {\n        color: \"#000000\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: \"Login or Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AccountBoxIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, \"Login of Create Account\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      PaperProps: {\n        style: {\n          backgroundColor: \"#fff\"\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: \"Login or Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Thanks for using Merge Sort Music!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"name\",\n          label: \"Email Address\",\n          type: \"email\",\n          required: \"true\",\n          fullWidth: true,\n          onChange: event => setUsername(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          required: \"true\",\n          color: \"#000000\",\n          fullWidth: true,\n          onChange: event => setPassword(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleLogin.bind(this),\n          color: \"#000000\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSignUp.bind(this),\n          color: \"#000000\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"#000000\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginDialog, \"0MtHaNTPa6GY8eM25/6p5+tQWfk=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginDialog\");","map":{"version":3,"sources":["/home/pooch/School/CS340/Project/NewHotness/frontend/src/components/LoginDialog.js"],"names":["React","useHistory","axios","Button","TextField","ListItem","ListItemText","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","AccountBoxIcon","LoginDialog","props","open","setOpen","useState","username","setUsername","password","setPassword","playlist","setPlaylist","history","user","handleClickOpen","handleClose","handleSignUp","post","setUserPage","push","pathname","state","handleLogin","get","then","response","result","data","filter","item","length","alert","console","log","color","style","backgroundColor","event","target","value","bind"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport {\n  Button,\n  TextField,\n  ListItem,\n  ListItemText,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\n\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\n\nimport \"./Navbar.js\";\n\nexport default function LoginDialog(props) {\n  const [open, setOpen] = React.useState(false);\n  const [username, setUsername] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [playlist, setPlaylist] = React.useState([]);\n\n  let history = useHistory();\n  const user = {\n    username: username,\n    password: password,\n    playlist: playlist\n  }\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  \n  const handleSignUp = () => {\n    axios.post('http://127.0.0.1:8000/login/', user)\n    setOpen(false);\n    props.setUserPage(true);\n    //history.push('/user')\n      history.push({\n        pathname: '/user',\n        state: { username: user.username, password: user.password, playlist: user.playlist}\n      });\n\n  };\n\n  const handleLogin = () => {\n    axios.get('http://127.0.0.1:8000/login/')\n    .then((response) => {\n    let result = response.data.filter(item => item.username === user.username && item.password === user.password);\n    if(result.length === 0){\n      alert(\"Username or Password incorrect. Try Again or Sign Up\");\n    }else{\n      setOpen(false);\n      setPlaylist(result[0].playlist)\n      setPlaylist(true)\n      props.setUserPage(true);\n      user.playlist = result[0].playlist\n\n      console.log(user.playlist)\n      console.log(playlist)\n      history.push({\n        pathname: '/user',\n        state: { username: user.username, password: user.password, playlist: user.playlist}\n      });\n    }\n  });\n  };\n\n  return (\n    <div>\n      <ListItem\n        button\n        key={\"Login of Create Account\"}\n        onClick={handleClickOpen}\n        style={{ color: \"#000000\" }}\n      >\n        <ListItemText primary={\"Login or Create Account\"} />\n        <AccountBoxIcon />\n      </ListItem>\n\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n        PaperProps={{\n          style: {\n            backgroundColor: \"#fff\",\n          },\n        }}\n      >\n        <DialogTitle id=\"form-dialog-title\">Login or Sign Up</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Thanks for using Merge Sort Music!\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Email Address\"\n            type=\"email\"\n            required=\"true\"\n            fullWidth\n            onChange={(event) => setUsername(event.target.value)}\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            required=\"true\"\n            color=\"#000000\"\n            fullWidth\n            onChange={(event) => setPassword(event.target.value)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleLogin.bind(this)}\n            color=\"#000000\"\n          >\n            Login\n          </Button>\n          <Button\n            onClick={handleSignUp.bind(this)}\n            color=\"#000000\"\n          >\n            Sign Up\n          </Button>\n          <Button onClick={handleClose} color=\"#000000\">\n            Cancel\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}